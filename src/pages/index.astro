---
// Ğ¤Ñ€Ğ¾Ğ½Ñ‚Ğ¼Ğ°Ñ‚Ñ‚ĞµÑ€ (SSR/SSG ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚)
// Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
import MealCard from '../components/MealCard.astro'; 
import CalorieCalculator from '../components/CalorieCalculator.astro'; 
import Lightbox from '../components/Lightbox.astro'; 

// Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ SSR (ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ¼ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸)
const mealsData = [
Â {
Â  name:"ĞšÑƒÑ€Ğ¸Ñ†Ğ° + Ğ¾Ğ²Ğ¾Ñ‰Ğ¸", type:"protein", kcal:420,p:42,f:8,c:20, img:"/images/chicken-free.webp"
Â },
Â {
Â  name:"Ğ’ĞµĞ³Ğ°Ğ½ Ğ±Ğ¾ÑƒĞ»", type:"vegan", kcal:360,p:18,f:12,c:45, img:"/images/vegan-free.webp"
Â },
Â {
Â  name:"Ğ›Ğ¾ÑĞ¾ÑÑŒ + Ğ¾Ğ²Ğ¾Ñ‰Ğ¸", type:"lowcarb", kcal:390,p:34,f:26,c:8, img:"/images/salmon-free.webp"
Â },
Â {
Â  name:"Ğ¤Ğ¸Ñ‚Ğ½ĞµÑ-Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ", type:"protein", kcal:450,p:35,f:15,c:30, img:"/images/sport-free.webp"
Â }
];
---

<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>FitFood â€” Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ¼ Ğ¸ Ñ„Ğ¸Ñ‚Ğ½ĞµÑ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
Â  --bg:#0e1014;
Â  --card:#161a20;
Â  --accent:#3cff8f;
Â  --text:#ffffff;
Â  --muted:#9aa0aa;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,sans-serif}
body{background:var(--bg);color:var(--text);overflow-x:hidden}

/* HERO */
header{
Â  min-height:100vh;
Â  padding:80px 20px;
Â  display:flex;
Â  flex-direction:column;
Â  justify-content:center;
Â  text-align:center;
Â  background-size:cover;
Â  background-position:center;
}

h1{font-size:clamp(28px,6vw,48px);margin-bottom:12px}
p{color:var(--muted);max-width:520px;margin:0 auto 24px}

.btn{
Â  background:var(--accent);
Â  color:#000;
Â  border:none;
Â  padding:14px 26px;
Â  border-radius:40px;
Â  font-weight:600;
Â  cursor:pointer;
}

/* SECTIONS */
section{padding:64px 16px;max-width:1100px;margin:auto}

/* CALCULATOR */
.calc{
Â  background:var(--card);
Â  border-radius:18px;
Â  max-width:420px;
Â  margin:auto;
Â  padding:24px;
}

.calc input{
Â  width:100%;
Â  padding:12px;
Â  margin-bottom:12px;
Â  background:#0b0e13;
Â  border:none;
Â  border-radius:10px;
Â  color:#fff;
}

.result{text-align:center;color:var(--accent);font-weight:600}

/* MEALS */
.meals{
Â  display:grid;
Â  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
Â  gap:20px;
}

.meal{
Â  background:var(--card);
Â  border-radius:18px;
Â  overflow:hidden;
}

.meal img{
Â  width:100%;
Â  height:170px;
Â  object-fit:cover;
Â  cursor:zoom-in;
Â  transition:transform .3s;
}

.meal img:hover{
Â  transform:scale(1.03);
}

.meal div{padding:16px}
.meal h3{font-size:16px;margin-bottom:6px}
.meal p{font-size:14px;color:var(--muted)}

footer{text-align:center;padding:40px;color:var(--muted)}

/* LIGHTBOX */
.lightbox{
Â  position:fixed;
Â  inset:0;
Â  background:rgba(0,0,0,.9);
Â  display:none;
Â  align-items:center;
Â  justify-content:center;
Â  z-index:1000;
}

.lightbox.active{
Â  display:flex;
}

.lightbox img{
Â  max-width:95vw;
Â  max-height:95vh;
Â  object-fit:contain;
}

.lightbox .close{
Â  position:absolute;
Â  top:20px;
Â  right:24px;
Â  font-size:28px;
Â  color:#fff;
Â  cursor:pointer;
}
</style>
</head>

<body>

<header id="hero" style="background-image:url(/images/hero-free.webp)">
Â  <h1>Ğ•Ğ´Ğ° Ğ´Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ñ‹</h1>
Â  <p>ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ¼. Ğ¤Ğ¸Ñ‚Ğ½ĞµÑ. ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹.</p>
Â  <button class="btn" onclick="scrollToCalc()">Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¸</button>
</header>

<section id="calc">
<h2 style="text-align:center;margin-bottom:20px">ğŸ§® ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹</h2>
<CalorieCalculator />
</section>

<section>
<h2 style="text-align:center;margin-bottom:20px">ğŸ½ï¸ Ğ‘Ğ»ÑĞ´Ğ°</h2>

<div class="meals" id="meals">
Â  {mealsData.map(meal => (
Â  Â  <MealCard {...meal} />
Â  ))}
</div>
</section>

<footer>Â© 2025 FitFood</footer>

<Lightbox />

<script>
// Ğ¢ĞĞ›Ğ¬ĞšĞ ĞœĞ˜ĞĞ˜ĞœĞĞ›Ğ¬ĞĞ«Ğ™ ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ¡ĞšĞ˜Ğ™ JS (ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¸ Lightbox)
/* CALCULATOR */
function calc(){
Â  const w=+document.getElementById("w").value;
Â  const h=+document.getElementById("h").value;
Â  const a=+document.getElementById("a").value;
Â  const r=document.getElementById("res");

Â  if(!w||!h||!a){r.innerText="Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸ Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ";return;}

Â  r.innerText=`â‰ˆ ${Math.round((10*w+6.25*h-5*a+5)*1.55)} ĞºĞºĞ°Ğ» / Ğ´ĞµĞ½ÑŒ`;
}

function scrollToCalc(){
Â  document.getElementById("calc").scrollIntoView({behavior:"smooth"});
}

/* LIGHTBOX */
const lightbox=document.getElementById("lightbox");
const lightboxImg=document.getElementById("lightboxImg");

function openLightbox(src){
Â  lightboxImg.src=src;
Â  lightbox.classList.add("active");
}

function closeLightbox(){
Â  lightbox.classList.remove("active");
Â  lightboxImg.src="";
}

document.addEventListener("keydown",e=>{
Â  if(e.key==="Escape") closeLightbox();
});
</script>

</body>
</html>
